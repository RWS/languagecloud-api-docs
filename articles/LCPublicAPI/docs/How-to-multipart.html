<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Multipart considerations </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Multipart considerations ">
    
    
      <link rel="shortcut icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>        

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="https://developers.rws.com/">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>

        <div class="container body-content">

          <div id="search-results">
            <div class="search-list">Search Results for <span></span></div>
            <div class="sr-items">
              <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
            </div>
            <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
          </div>
        </div>

      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="multipart-considerations">Multipart considerations</h1>

<p>This page goes into deeper details for uploading files. Generally you might be interested in this subject when not using the provided SDKs and are implementing your own SDK. This page should help you debug potential problems you might encounter.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Our APIs follows standard HTTP/1.1 protocol as described in <a href="https://www.rfc-editor.org/rfc/rfc2616">RFC2616</a> and subsequent RFCs. This page does not describe any custom HTTP behavior.</p>
</div>
<h2 id="how-to-perform-post-requests-with-multipart">How to perform POST requests with multipart</h2>
<p>Whenever you make use of endpoints that do file uploads using <code>multipart/form-data</code>, some additional details may be required to be sent alongside the file, for example a <code>properties</code> part.</p>
<p>Let's take as an example the <a href="../api/Public-API.v1-fv.html#/operations/AddSourceFileVersion">Add Source File Version</a> endpoint. The API specifies that the request content is <code>multipart/form-data</code> and has a <code>properties</code> part that should be serialized as a JSON (this might not be mentioned explicitly in the documentation, but any structures in multiparts should be serialized as JSON). The second property is <code>file</code> and though it is of type <code>string</code>, that means that the raw content of the file should be sent in that part.</p>
<div class="NOTE">
<h5>Note</h5>
<p>The order of parts is important! Please send the parts in the order these are specified in the API contract.</p>
</div>
<p>To confirm that you are sending the correct content, you can intercept the request and view the raw request (this can be done in many ways, with either built in tools if available in your IDE/tooling or even free software).</p>
<p>A simplified raw HTTP request is presented bellow:</p>
<pre><code class="lang-http">POST /tasks/&lt;taskId&gt;/source-files/&lt;sourceFileId&gt;/versions HTTP/1.1
HOST: host.example.com
Content-Type: multipart/form-data; boundary=--------------------------818668410602542750275539

----------------------------818668410602542750275539
Content-Disposition: form-data; name=&quot;properties&quot;
Content-Type: application/json

{ 
    &quot;type&quot;:&quot;native&quot;,
    &quot;fileTypeSettingsId&quot;: &quot;&lt;FILE_TYPE_SETTINGS_ID&gt;&quot;
}
----------------------------818668410602542750275539
Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;&lt;FILENAME.EXTENSION&gt;&quot;
Content-Type: &lt;MATCHING CONTENT TYPE FOR YOUR FILE TYPE&gt;

&lt;FILE CONTENT GOES HERE&gt;
----------------------------818668410602542750275539--

</code></pre>
<p>For the file, there is usually the filename that needs to be sent, along with file <code>Content-type</code> and finally the content.</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/RWS/languagecloud-api-docs/blob/main/articles/LCPublicAPI/docs/How-to-multipart.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
    <script type="text/javascript" src="../../../styles/custom-scripts.js"></script>

  </body>
</html>