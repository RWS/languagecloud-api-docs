# Termbase entries 
</br>

## Creating a termbase entry

A termbase entry can be created by making a `POST` request to the [`/termbases/{termbaseId}/entries`](../../reference/Public-API.v1.json/paths/~1termbases~1{termbaseId}~1entries/post) endpoint.

Request example for an entry using language code `en`: `POST /termbases/61b70c0775ed5f14d8190fab/entries`
```json
{
    "humanReadableId": "LC000000000000000000000001",
    "languages": [
        {
            "language": {
                "languageCode": "en"
            },
            "terms": [
                {
                    "text": "Simple Entry"
                }
            ]
        }
    ]
}
```

The `humanReadableId` is optional and can be any value. If it's not specified it will be autogenerated. The autogenerated value is not guaranteed to adhere to any specific format.

### Creating a termbase entry with cross-references

A termbase entry can contain cross-references. These references can have the following types: `entry`, `term` or `external`, representing the associated element type. For the `external` type you can use as value external URLs.
For the `entry` type, the `entryId` needed can be retrieved by pressing the `Copy Entry ID` button on the user interface for the entry that should be referred.

 See below an example of how to add a cross-reference of 'entry' type in the user interface:


![Create entry with cross-references in UI](https://github.com/RWS/language-cloud-public-api-doc-resources/blob/main/PublicAPI/CreateEntryWithReferenceUI.gif?raw=true)

Equivalent cross-references can be created via API by using `fieldValueLinks` objects. In the next example, `value` is an HTML snippet, where the identifier provided in the value  `LC61b7264d877e04258abc7da8` (note that it appears twice in the snippet) is the value from the `humanReadableId` field. This is the same for the UI example, as the "Copy Entry ID" button copies the `humanReadableId`, for the entry, into clipboard.

Request example: `POST /termbases/61b70c0775ed5f14d8190fab/entries`
```json
{
    "humanReadableId": "LC000000000000000000000001",
    "languages": [
        {
            "language": {
                "languageCode": "en"
            },
            "terms": [
                {
                    "text": "New Simple entry",
                    "termbaseFieldValues": [
                        {
                            "termbaseFieldId": "61b71de9877e04258abc7d9f",
                            "value": "This is an new&nbsp;<a data-value=\"LC61b7264d877e04258abc7da8\" data-type=\"concept\" href=\"#conceptId=LC61b7264d877e04258abc7da8\">entry reference<\/a>",
                            "fieldValueLinks": [
                                {
                                    "type": "entry",
                                    "value": "This is a new entry reference"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}
```

> Note: The `termbaseFieldId` should match the field `id` from the termbase.

Response example:
```json
{
    "id": "61b73e4475ed5f14d81ae5e7",
    "languages": [
        {
            "id": "61b73e4475ed5f14d81ae5e8",
            "language": {
                "languageCode": "en",
                "englishName": "English"
            }
        }
    ]
}
```

Postman example:


![Create entry with cross-references in Postman](https://github.com/RWS/language-cloud-public-api-doc-resources/blob/main/PublicAPI/CreateEntryWithReferencePostman.gif?raw=true)

</br>

## Updating a termbase entry

A termbase entry can be updated by making a `PUT` request to the [`/termbases/{termbaseId}/entries/{entryId}`](../../reference/Public-API.v1.json/paths/~1termbases~1{termbaseId}~1entries~1{entryId}/put) endpoint.

The update action changes the entire structure of an entry, it doesn't only update the terms specified in the request body. The terms that are not specified, are deleted. If some terms should not be updated, their structure must be send in the request as it currently is.

The cross-references between terms can be updated using `fieldValueLinks` objects. Postman example:


![Update field value links](https://github.com/RWS/language-cloud-public-api-doc-resources/blob/main/PublicAPI/UpdateTermbaseEntryPostman.gif?raw=true)

Request example: `PUT /termbases/61b70c0775ed5f14d8190fab/entries/61b73e4475ed5f14d81ae5e7`
```json
{
    "humanReadableId": "LC000000000000000000000002",
    "languages": [
        {
            "id": "61b73e4475ed5f14d81ae5e8",
            "language": {
                "languageCode": "en"
            },
            "terms": [
                {
                    "id": "61b73e4475ed5f14d81ae5e9",
                    "text": "Simple Entry Updated",
                    "termbaseFieldValues": [
                        {
                            "id": "61b73e4475ed5f14d81ae5ea",
                            "termbaseFieldId": "61b71de9877e04258abc7d9f",
                            "value": "This is an updated&nbsp;<a data-value=\"LC61b7264d877e04258abc7da8\" data-type=\"concept\" href=\"#conceptId=LC61b7264d877e04258abc7da8\">entry reference<\/a>",
                            "fieldValueLinks": [
                                {
                                    "type": "entry",
                                    "value": "This is an updated entry reference"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}
```
</br>

## Retrieving a termbase entry

A termbase entry can be retrieved by making a `GET` request to the [`/termbases/{termbaseId}/entries/{entryId}`](../../reference/Public-API.v1.json/paths/~1termbases~1{termbaseId}~1entries~1{entryId}/get) endpoint. Postman example:


![Get termbase entry with fields](https://github.com/RWS/language-cloud-public-api-doc-resources/blob/main/PublicAPI/GetTermbaseEntryPostman.gif?raw=true)

Request example: `GET /termbases/61b70c0775ed5f14d8190fab/entries/61b73e4475ed5f14d81ae5e7?fields=humanReadableId,languages.terms,languages.terms.termbaseFieldValues`

Response example:
```json
{
    "id": "61b73e4475ed5f14d81ae5e7",
    "humanReadableId": "LC000000000000000000000002",
    "languages": [
        {
            "id": "61b73e4475ed5f14d81ae5e8",
            "language": {
                "languageCode": "en",
                "englishName": "English"
            },
            "terms": [
                {
                    "id": "61b73e4475ed5f14d81ae5e9",
                    "text": "Simple Entry Updated",
                    "termbaseFieldValues": [
                        {
                            "id": "61b73e4475ed5f14d81ae5ea",
                            "name": "Term level field",
                            "termbaseFieldId": "61b71de9877e04258abc7d9f",
                            "value": "This is an updated&nbsp;<a data-value=\"LC61b7264d877e04258abc7da8\" data-type=\"concept\" href=\"#conceptId=LC61b7264d877e04258abc7da8\">entry reference</a>"
                        }
                    ]
                }
            ]
        }
    ]
}
```
</br>

## Retrieving the list of termbase entries

You can retrieve the list of termbase entries by making a `GET` request to the [`/termbases/{termbaseId}/entries`](../../reference/Public-API.v1.json/paths/~1termbases~1{termbaseId}~1entries/get) endpoint.

Request example: `GET /termbases/61b70c0775ed5f14d8190fab/entries?fields=humanReadableId,languages.terms,languages.terms.termbaseFieldValues`

Response example:
```json
{
    "items": [
        {
            "id": "61b725aa75ed5f14d8190fea",
            "humanReadableId": "LC61b725aa75ed5f14d8190fee",
            "languages": [
                {
                    "id": "61b725aa75ed5f14d8190feb",
                    "language": {
                        "languageCode": "en",
                        "englishName": "English"
                    },
                    "terms": [
                        {
                            "id": "61b725aa75ed5f14d8190fed",
                            "text": "Simple entry",
                            "termbaseFieldValues": [
                                {
                                    "id": "61b733ee75ed5f14d81a8602",
                                    "name": "Term level field",
                                    "termbaseFieldId": "61b71de9877e04258abc7d9f",
                                    "value": "This is an&nbsp;<a data-value=\"LC61b7264d877e04258abc7da8\" data-type=\"concept\" href=\"#conceptId=LC61b7264d877e04258abc7da8\">entry reference</a>"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "id": "61b7264d877e04258abc7da5",
            "humanReadableId": "LC61b7264d877e04258abc7da8",
            "languages": [
                {
                    "id": "61b7264d877e04258abc7da6",
                    "language": {
                        "languageCode": "en",
                        "englishName": "English"
                    },
                    "terms": [
                        {
                            "id": "61b7264d877e04258abc7da7",
                            "text": "Entry reference",
                            "termbaseFieldValues": []
                        }
                    ]
                }
            ]
        },
        {
            "id": "61b73e4475ed5f14d81ae5e7",
            "humanReadableId": "LC000000000000000000000002",
            "languages": [
                {
                    "id": "61b73e4475ed5f14d81ae5e8",
                    "language": {
                        "languageCode": "en",
                        "englishName": "English"
                    },
                    "terms": [
                        {
                            "id": "61b73e4475ed5f14d81ae5e9",
                            "text": "Simple Entry Updated",
                            "termbaseFieldValues": [
                                {
                                    "id": "61b73e4475ed5f14d81ae5ea",
                                    "name": "Term level field",
                                    "termbaseFieldId": "61b71de9877e04258abc7d9f",
                                    "value": "This is an updated&nbsp;<a data-value=\"LC61b7264d877e04258abc7da8\" data-type=\"concept\" href=\"#conceptId=LC61b7264d877e04258abc7da8\">entry reference</a>"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "itemCount": 3
}
```
</br>

## Deleting a termbase entry

A termbase entry can be deleted by making a `DELETE` request to the [`/termbases/{termbaseId}/entries/{entryId}`](../../reference/Public-API.v1.json/paths/~1termbases~1{termbaseId}~1entries~1{entryId}/delete) endpoint.

Request example: `DELETE /termbases/61b70c0775ed5f14d8190fab/entries/61b73e4475ed5f14d81ae5e7`


## Deleting all termbase entries

All termbase entries can be deleted by making a `DELETE` request to the [`/termbases/{termbaseId}/entries`](../../reference/Public-API.v1.json/paths/~1termbases~1{termbaseId}~1entries/delete) endpoint.

Request example: `DELETE /termbases/61b70c0775ed5f14d8190fab/entries`
